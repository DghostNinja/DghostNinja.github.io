---
title: "Building a Secure CI/CD Pipeline"
date: 2025-07-08
categories: [CI/CD]
tags: [Application Security, DevSecOps, Docker, Container security, Automation]
layout: post
publish: true
---

# Building a Secure CI/CD Pipeline for a Python App: From Code to Render Deployment

Modern web development isn't just about building cool apps, it's about building secure, automated, and production-ready systems. In this post, we walk through how I built, secured, and deployed a Python-based web application with an end-to-end CI/CD pipeline using GitLab, Render, and industry-standard security tools like Semgrep, Bandit, Trivy, and Snyk.

Whether you’re a DevOps enthusiast or a security conscious developer, this guide will show you how to shift security left, streamline deployment, and automate reporting, all in one place

---

## Overview of the Stack

App: Python web app (Flask-based)

CI/CD: GitLab Pipelines

Hosting: Render

Security Tools:

Semgrep for static code analysis

Bandit for Python-specific SAST

Snyk for dependency scanning

Trivy for filesystem + container scanning

Alerting: Telegram integration with summarized report


### Step 1: Building the App

I started with a lightweight Flask app, containing routes, business logic, and templates. The key focus at this stage was to write minimal but functional code to serve as the base for our secure deployment.

#### Sample structure:
```bash
fauxmart/
├── app.py
├── requirements.txt
├── templates/
└── Dockerfile
```
The requirements.txt contained typical dependencies like Flask, while the Dockerfile defined a production-ready image using a minimal base (e.g., python:3.10-slim). 
[Link to the demo-app can be found](https://github.com/DghostNinja/python-app-demo)


### Step 2: Creating the CI/CD Pipeline in GitLab

Next, I created a robust .gitlab-ci.yml that followed a secure-first, build-later approach using three main stages:

CI/CD Pipeline Stages:
stages:
```yaml
- security_audit   # Perform all security scan
- report           # Generate and send summary
- build            # Build & push Docker image
- deploy           # Trigger Render deployment
```

I'm using gitlab here because I'm less familiar with it, compared to Github action, in which I once built a mini pipeline security on before.([Vulnera](https://github.com/DghostNinja/Vulnera)).

